import{atom as t,selector as e,useRecoilCallback as o,useRecoilValue as n,atomFamily as r,selectorFamily as f}from"recoil";export{RecoilRoot}from"recoil";import{v4 as i}from"uuid";import{produce as u}from"immer";export{current}from"immer";function y(){return i()}function p(t,e,r){return function(){const f=o((({set:e})=>o=>{e(t,"function"==typeof o?t=>u(t,(t=>o(t))):o)}));return[n(t),"read-only"===e?t=>{throw new Error(` Attempt to set read-only RecoilValue: ${r}(set new Value: ${t})`)}:f]}}function c(o,n,r){let f,i,c,l="make-state-"+y();return"function"==typeof n?(i="read-write",f=n,"string"==typeof r&&(l=r)):null===n||""===n?(i="read-only","string"==typeof r&&(l=r)):(i="primary","string"==typeof n&&(l=n)),c="primary"===i?((e,o)=>t({key:o,default:"function"==typeof e?e():e}))(o,l):((t,o,n)=>e({key:n,get:({get:e})=>"function"==typeof t?t(e):t,set:"function"!=typeof o?void 0:({get:t,set:e},n)=>{o(t,((t,o)=>{e(t,"function"==typeof o?t=>u(t,(t=>o(t))):o)}),n)}}))(o,f,l),[p(c,i,l),c,{key:l}]}(t=>{t("b")})((()=>{}));function l(t,e,r){return function(f){const i=o((({set:e})=>o=>{e(t(f),"function"==typeof o?t=>u(t,(t=>o(t))):o)}));return[n(t(f)),"read-only"===e?t=>{throw new Error(` Attempt to set read-only RecoilValue: ${r}(set new Value: ${t})`)}:i]}}function a(t,e,o){let n,i,p,c="make-state-"+y();return"function"==typeof e?(i="read-write",n=e,"string"==typeof o&&(c=o)):null===e||""===e?(i="read-only","string"==typeof o&&(c=o)):(i="primary","string"==typeof e&&(c=e)),p="primary"===i?((t,e)=>r({key:e,default:"function"==typeof t?e=>t(e):t}))(t,c):function(t,e,o){return f({key:o,get:e=>({get:o})=>"function"==typeof t?t(e)(o):t,set:"function"!=typeof e?void 0:t=>({get:o,set:n},r)=>{e(t)(o,((t,e)=>{n(t,"function"==typeof e?t=>u(t,(t=>e(t))):e)}),r)}})}(t,n,c),[l(p,i,c),p,{key:c}]}export default c;export{c as makeState,a as makeStates};
